{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 7,
  "summary": "A comprehensive historical plane crash tracking application with manual data entry system featuring automatic verification of plane registration numbers against real aircraft databases. The system includes interactive flight path maps (showing known and speculative routes), automatic aircraft identification, detailed 3D crash reconstructions with damage visualization viewable from multiple angles, investigation timelines with full documentation (preliminary reports, interim updates, final reports, safety recommendations) supporting text/images/videos, casualty tracking, crash cause analysis, source verification, and multiple aircraft tracking for disaster crashes. Fantasy/fictional crashes are integrated into the main crash list with a toggle filter, maintaining the same detail level as real crashes. Disaster crashes (multiple aircraft involved) can only be created when the source is verified, and include a severity warning filter similar to fantasy crashes. Database optimized to handle all documented historical plane crashes with real/fantasy/disaster classification.",
  "architectural_notes": [
    "Use React with Three.js for 3D aircraft visualization and crash reconstructions",
    "Use Motoko backend for data storage and management",
    "Interactive maps for coordinate-based historical flight path display",
    "Support for multiple media types (text, images, video embeds) in investigation timelines",
    "Database structure to accommodate data from multiple crash investigation sources",
    "Implement automatic verification system that checks plane registration numbers against aviation databases",
    "Add real/fantasy classification field to crash records with toggle filter in dashboard",
    "Source validation system for credibility checking of submitted crash data",
    "Fantasy crashes maintain full feature parity with real crashes (3D models, timelines, etc.)",
    "Disaster crash classification tracks multiple aircraft involvement within single crash incidents"
  ],
  "known_issues": [],
  "isFixRequest": false,
  "existing_features": [
    {
      "id": "feature-create-a-manual-data-entry-form-for-adding-plane-crash-records-with-fields-for-crash-date-location-coordinates-airline-flight-number-aircraft-type-phase-of-flight-casualties-total-aboard-fatalities-survivors-crash-cause-and-data-source-attribution-ntsb-asn-icao-etc",
      "title": "Create a manual data entry form for adding plane crash records with fields for: crash date, location (coordinates), airline, flight number, aircraft type, phase of flight, casualties (total aboard, fatalities, survivors), crash cause, and data source attribution (NTSB, ASN, ICAO, etc.)",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-automatic-aircraft-identification-that-selects-and-displays-the-correct-aircraft-model-based-on-the-aircraft-type-entered-in-the-crash-data-form",
      "title": "Implement automatic aircraft identification that selects and displays the correct aircraft model based on the aircraft type entered in the crash data form",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-create-an-interactive-map-visualization-using-react-that-displays-flight-paths-for-each-crash-showing-known-flight-paths-as-solid-lines-and-speculative-unknown-paths-as-dashed-lines-with-clear-labeling-indicating-speculative-route-or-unknown-path",
      "title": "Create an interactive map visualization using React that displays flight paths for each crash, showing known flight paths as solid lines and speculative/unknown paths as dashed lines with clear labeling indicating 'Speculative Route' or 'Unknown Path'",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-build-a-3d-crash-reconstruction-viewer-using-three-js-and-react-three-fiber-that-displays-detailed-aircraft-models-with-damage-visualization-for-each-crash-allowing-users-to-rotate-and-view-the-crash-scene-from-multiple-angles-with-camera-controls",
      "title": "Build a 3D crash reconstruction viewer using Three.js and React Three Fiber that displays detailed aircraft models with damage visualization for each crash, allowing users to rotate and view the crash scene from multiple angles with camera controls",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-comprehensive-investigation-timeline-component-that-displays-chronological-entries-for-preliminary-reports-interim-updates-final-reports-and-safety-recommendations-with-each-entry-supporting-rich-content-including-text-descriptions-embedded-images-and-video-embeds",
      "title": "Create a comprehensive investigation timeline component that displays chronological entries for preliminary reports, interim updates, final reports, and safety recommendations, with each entry supporting rich content including text descriptions, embedded images, and video embeds",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-crash-details-view-that-displays-casualty-information-total-aboard-fatalities-survivors-and-documented-crash-cause-for-each-incident",
      "title": "Implement a crash details view that displays casualty information (total aboard, fatalities, survivors) and documented crash cause for each incident",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-main-dashboard-view-that-lists-all-plane-crashes-with-filtering-and-search-capabilities-allowing-users-to-browse-crashes-by-date-location-airline-aircraft-type-or-casualty-count",
      "title": "Create a main dashboard view that lists all plane crashes with filtering and search capabilities, allowing users to browse crashes by date, location, airline, aircraft type, or casualty count",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-apply-a-cohesive-visual-design-theme-with-a-professional-data-focused-aesthetic-using-appropriate-colors-typography-and-layout-patterns-that-convey-seriousness-and-respect-for-the-historical-nature-of-the-content-avoiding-bright-or-playful-color-schemes",
      "title": "Apply a cohesive visual design theme with a professional, data-focused aesthetic using appropriate colors, typography, and layout patterns that convey seriousness and respect for the historical nature of the content, avoiding bright or playful color schemes",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-checkbox-field-labeled-mark-as-fantasy-fictional-crash-to-the-crashrecordform-component-that-allows-users-to-explicitly-mark-a-submission-as-fantasy-during-creation",
      "title": "Add a checkbox field labeled 'Mark as Fantasy/Fictional Crash' to the CrashRecordForm component that allows users to explicitly mark a submission as fantasy during creation",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-crashlistitem-component-to-display-a-verification-badge-that-shows-verified-not-a-real-crash-for-unverified-or-fantasy-fictional-based-on-the-verificationstatus-field-using-distinct-visual-styling-for-each-status",
      "title": "Update the CrashListItem component to display a verification badge that shows 'Verified', 'Not a Real Crash' (for unverified), or 'Fantasy/Fictional' based on the verificationStatus field, using distinct visual styling for each status",
      "reqIds": [
        "REQ-15"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-toggle-checkbox-filter-labeled-show-fantasy-fictional-crashes-to-the-dashboardpage-component-that-filters-the-crash-list-to-show-or-hide-fantasy-crashes-based-on-user-preference-defaulting-to-hidden",
      "title": "Add a toggle checkbox filter labeled 'Show Fantasy/Fictional Crashes' to the DashboardPage component that filters the crash list to show or hide fantasy crashes based on user preference, defaulting to hidden",
      "reqIds": [
        "REQ-16"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-usecrashrecords-hook-in-frontend-src-hooks-usequeries-ts-to-accept-an-includefantasy-parameter-and-pass-it-to-the-backend-getcrashrecords-query",
      "title": "Update the useCrashRecords hook in frontend/src/hooks/useQueries.ts to accept an includeFantasy parameter and pass it to the backend getCrashRecords query",
      "reqIds": [
        "REQ-18"
      ],
      "version": 1
    },
    {
      "id": "feature-display-source-verification-status-in-the-crashdetailspanel-component-showing-a-checkmark-icon-and-source-verified-text-when-sourceverification-is-true-and-a-warning-icon-with-source-not-verified-when-false",
      "title": "Display source verification status in the CrashDetailsPanel component, showing a checkmark icon and 'Source Verified' text when sourceVerification is true, and a warning icon with 'Source Not Verified' when false",
      "reqIds": [
        "REQ-19"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-crashrecordform-component-in-frontend-src-components-crashrecordform-tsx-to-add-a-checkbox-labeled-multiple-aircraft-involved-disaster-crash-that-is-only-enabled-when-source-verification-is-true-and-when-checked-displays-additional-input-fields-for-adding-multiple-aircraft-details",
      "title": "Update the CrashRecordForm component in frontend/src/components/CrashRecordForm.tsx to add a checkbox labeled 'Multiple Aircraft Involved (Disaster Crash)' that is only enabled when source verification is true, and when checked, displays additional input fields for adding multiple aircraft details",
      "reqIds": [
        "REQ-24"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-show-disaster-crashes-toggle-checkbox-filter-to-the-dashboardpage-component-in-frontend-src-pages-dashboardpage-tsx-that-filters-the-crash-list-to-show-or-hide-disaster-crashes-based-on-user-preference-defaulting-to-hidden",
      "title": "Add a 'Show Disaster Crashes' toggle checkbox filter to the DashboardPage component in frontend/src/pages/DashboardPage.tsx that filters the crash list to show or hide disaster crashes based on user preference, defaulting to hidden",
      "reqIds": [
        "REQ-25"
      ],
      "version": 1
    },
    {
      "id": "feature-display-a-prominent-severity-warning-modal-or-alert-in-the-dashboardpage-component-when-users-enable-the-show-disaster-crashes-filter-for-the-first-time-warning-about-graphic-severe-content-and-requiring-user-acknowledgment-before-showing-disaster-crashes",
      "title": "Display a prominent severity warning modal or alert in the DashboardPage component when users enable the 'Show Disaster Crashes' filter for the first time, warning about graphic/severe content and requiring user acknowledgment before showing disaster crashes",
      "reqIds": [
        "REQ-26"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-usecrashrecords-hook-in-frontend-src-hooks-usequeries-ts-to-accept-an-includedisastercrashes-parameter-and-pass-it-to-the-backend-getcrashrecords-query",
      "title": "Update the useCrashRecords hook in frontend/src/hooks/useQueries.ts to accept an 'includeDisasterCrashes' parameter and pass it to the backend getCrashRecords query",
      "reqIds": [
        "REQ-27"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-crashlistitem-component-in-frontend-src-components-crashlistitem-tsx-to-display-a-disaster-crash-badge-with-warning-styling-when-isdisastercrash-is-true-showing-the-number-of-aircraft-involved",
      "title": "Update the CrashListItem component in frontend/src/components/CrashListItem.tsx to display a 'Disaster Crash' badge with warning styling when isDisasterCrash is true, showing the number of aircraft involved",
      "reqIds": [
        "REQ-28"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-crashdetailspanel-component-in-frontend-src-components-crashdetailspanel-tsx-to-display-disaster-crash-information-including-a-list-of-all-involved-aircraft-with-their-details-type-registration-airline-casualties-when-isdisastercrash-is-true",
      "title": "Update the CrashDetailsPanel component in frontend/src/components/CrashDetailsPanel.tsx to display disaster crash information including a list of all involved aircraft with their details (type, registration, airline, casualties) when isDisasterCrash is true",
      "reqIds": [
        "REQ-29"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Manual data entry system for crash data from multiple sources (NTSB, ASN, ICAO, etc.)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Interactive flight path maps showing known paths and speculative routes (labeled as unknown)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Automatic aircraft identification system that selects correct aircraft model based on crash details",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Detailed 3D crash reconstructions with aircraft models and damage visualization viewable from multiple angles",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Investigation timeline with preliminary reports, interim updates, final reports, safety recommendations (text, images, video embeds)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Casualty tracking and crash cause analysis for each incident",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Scalable database optimized to handle all documented historical plane crashes",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-14",
      "summary": "Design a Motoko backend data model optimized to store and retrieve comprehensive crash records including: basic crash info, flight path coordinates (with known/speculative flags), aircraft details, casualty data, crash causes, and investigation timeline entries, with the structure capable of scaling to handle thousands of historical crash records",
      "reqIds": [
        "REQ-7"
      ],
      "status": "pending"
    },
    {
      "id": "AR-15",
      "summary": "Automatic verification system that validates plane registration numbers against real aircraft databases and labels unverified/fake registrations as 'Not a Real Crash'",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-16",
      "summary": "Fantasy/fictional crash classification system integrated into main crash list with toggle filter to show/hide fantasy crashes",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-17",
      "summary": "Source verification system that validates data source URLs/references and cross-references plane registrations against official aviation databases",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-18",
      "summary": "Fantasy crashes feature with same detail level as real crashes (3D reconstructions, timelines, investigation reports, etc.)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-19",
      "summary": "Extend the CrashRecord type in backend/main.mo to include a verificationStatus field (enum: 'verified', 'unverified', 'fantasy') and a sourceVerification field (Boolean) to track whether the data source URL has been validated",
      "reqIds": [
        "REQ-10"
      ],
      "status": "pending"
    },
    {
      "id": "AR-20",
      "summary": "Create a backend function validatePlaneRegistration in backend/main.mo that checks plane registration numbers against a hardcoded list of known real aircraft registrations and returns a verification status ('verified' or 'unverified')",
      "reqIds": [
        "REQ-11"
      ],
      "status": "pending"
    },
    {
      "id": "AR-21",
      "summary": "Create a backend function validateDataSource in backend/main.mo that performs basic URL validation on data source references (checks for proper URL format and credible domain patterns like .gov, ntsb.gov, aviation-safety.net)",
      "reqIds": [
        "REQ-12"
      ],
      "status": "pending"
    },
    {
      "id": "AR-22",
      "summary": "Update the addCrashRecord function in backend/main.mo to automatically call validatePlaneRegistration and validateDataSource, storing the verification results in the verificationStatus and sourceVerification fields before saving the crash record",
      "reqIds": [
        "REQ-13"
      ],
      "status": "pending"
    },
    {
      "id": "AR-26",
      "summary": "Update the getCrashRecords query in backend/main.mo to accept an optional includeFantasy Boolean parameter that filters out fantasy crashes when set to false",
      "reqIds": [
        "REQ-17"
      ],
      "status": "pending"
    },
    {
      "id": "AR-27",
      "summary": "Multiple aircraft tracking system that allows adding multiple planes to a single crash incident (only when sourceVerification is true)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-28",
      "summary": "Disaster crash classification system - crashes marked as disaster crashes when multiple aircraft are involved",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-29",
      "summary": "Add 'Show Disaster Crashes' toggle filter to dashboard with severity warning that users must acknowledge before viewing disaster crashes",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-30",
      "summary": "Add a Boolean field 'isDisasterCrash' to the CrashRecord type in backend/main.mo to track whether multiple aircraft were involved in the crash incident",
      "reqIds": [
        "REQ-20"
      ],
      "status": "pending"
    },
    {
      "id": "AR-31",
      "summary": "Add an array field 'involvedAircraft' to the CrashRecord type in backend/main.mo to store details about each aircraft involved in disaster crashes, with each entry containing aircraft type, registration number, airline, and casualties for that specific aircraft",
      "reqIds": [
        "REQ-21"
      ],
      "status": "pending"
    },
    {
      "id": "AR-32",
      "summary": "Update the addCrashRecord function in backend/main.mo to validate that multiple aircraft can only be added when sourceVerification is true, rejecting the submission with an error message if sourceVerification is false and isDisasterCrash is true",
      "reqIds": [
        "REQ-22"
      ],
      "status": "pending"
    },
    {
      "id": "AR-33",
      "summary": "Update the getCrashRecords query in backend/main.mo to accept an optional 'includeDisasterCrashes' Boolean parameter that filters out disaster crashes when set to false, defaulting to false",
      "reqIds": [
        "REQ-23"
      ],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "Historical Plane Crash Tracker",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}